

<!-- undo start herrrr






xcvbnm,./-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Comfy-crypto</title>
	<meta property="og:site_name" content="Comfy-cryptocurrency">
    <link rel="icon" href="/logo.png" type="image" sizes="67x75">
    <meta property="og:title" content="Welcome to Comfy-crypto voting website" />
    <meta property="og:description" content="Let Trade crypto" />
    <meta property="og:image" itemprop="image" content="/logo.png">
    <meta property="og:type" content="website" />
    <link href="https://fonts.googleapis.com/css?family=Lato:400,400i|Roboto:500" rel="stylesheet">
    <link rel="stylesheet" href="dist/css/style.css">
    <script src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"></script>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/web3/1.2.7-rc.0/web3.min.js"></script>
<style>
body{
background-image:  linear-gradient(rgba(4,9,30,0.5),rgba(4,9,30,0.5)),url(https://image.cnbcfm.com/api/v1/image/106962967-1634709558798-gettyimages-1235570383-porzycki-cryptocu210928_npbUe.jpeg?v=1638893580);;
}
img {
    vertical-align: middle;
    border-style: none;
    width: 150px;
}
</style>
</head>
<body class="is-boxed has-animations">
    <div class="body-wrap boxed-container">
        <header class="site-header">
            <div class="container">
                <div class="site-header-inner">
                    <div class="brand header-brand">
                        <h1 class="m-0">
                            <a href="/">
                                <img src="/logo.png" alt="" sizes="" srcset="">
                                <!-- <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                                    <title>Comfy crypto</title>
                                    <defs>
                                        <linearGradient x1="100%" y1="0%" x2="0%" y2="100%" id="logo-gradient-b">
                                            <stop stop-color="#39D8C8" offset="0%"/>
                                            <stop stop-color="#BCE4F4" offset="47.211%"/>
                                            <stop stop-color="#838DEA" offset="100%"/>
                                        </linearGradient>
                                        <path d="M32 16H16v16H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h28a2 2 0 0 1 2 2v14z" id="logo-gradient-a"/>
                                        <linearGradient x1="23.065%" y1="25.446%" y2="100%" id="logo-gradient-c">
                                            <stop stop-color="#1274ED" stop-opacity="0" offset="0%"/>
                                            <stop stop-color="#1274ED" offset="100%"/>
                                        </linearGradient>
                                    </defs>
                                    <g fill="none" fill-rule="evenodd">
                                        <mask id="logo-gradient-d" fill="#fff">
                                            <use xlink:href="#logo-gradient-a"/>
                                        </mask>
                                        <use fill="url(#logo-gradient-b)" xlink:href="#logo-gradient-a"/>
                                        <path fill="url(#logo-gradient-c)" mask="url(#logo-gradient-d)" d="M-16-16h32v32h-32z"/>
                                    </g>
                                </svg> -->
                            </a>
                        </h1>
                    </div>
                </div>
            </div>
        </header>

        <main>
            <section class="hero text-center">
                <div class="container-sm">
                    <div class="hero-inner">
                        <h1 class="hero-title h2-mobile mt-0 is-revealing" style="color: #fff;">ELECTIONS</h1>
                    </div>
                </div>
            </section>

            <section class="features section text-center">
                <div class="container">
                    <div class="features-inner section-inner has-bottom-divider">
                            <% data.forEach(function(data) { %>
                             <% var total = data.one.length + data.two.length + data.three.length + data.four.length + data.five.length + data.six.length %>
                         <div class="card text-white bg-dark">
                             <h5 class="card-header" style="color: white;">Total Vote <%= total%></h5>
                             <div class="card-body">
                               <h5 class="card-title" style="color: white;"><%= data.title%></h5>
                               <p class="card-text"style="color: white;"><%= data.message%></p>
                               <a href="/vote/<%= data._id%>" class="btn btn-primary" id="vote-button" id="vote-button1"><b>VOTE</b></a> 
                               <button onclick="connectMetamask()" style="    background-color: darkorange;
                               border-radius: 6px;
                               height: 43px;">CONNECT TO METAMASK</button> <br>
                                <p id="accountArea"></p>

                                <script>
                                    let account;
                                       const connectMetamask = async () => {
                                           if(window.ethereum !== "undefined") {
                                               const accounts = await ethereum.request({method: "eth_requestAccounts"});
                                               account = accounts[0];
                                               document.getElementById("accountArea").innerHTML = account;
                                           }
                                       }
                               </script>


<script>
    // Check if MetaMask is available
    if (typeof web3 !== 'undefined') {
        // Create a Web3 instance using the current provider
        const web3 = new Web3(window.ethereum);

        // Add an event listener to the vote button
        const voteButton = document.getElementById('vote-button');
        voteButton.addEventListener('click', async (event) => {
            event.preventDefault();

            try {
                // Prompt the user to connect to MetaMask
                await window.ethereum.enable();

                // User is connected to MetaMask
                // Proceed with the voting process here...
                alert('User is connected to MetaMask. Proceed with voting...');
                console.log('User is connected to MetaMask. Proceed with voting...');

                window.location.href = '/vote/<%= data._id%>';

            } catch (error) {
                // User denied the connection request or an error occurred
                alert('Failed to connect to MetaMask:', error);
                console.error('Failed to connect to MetaMask:', error);
            }
        });
    } else {
        // MetaMask is not available
        alert('MetaMask is not installed or not available.');
        console.error('MetaMask is not installed or not available.');
    }
</script>


                             </div>
                           </div>
                           <br>
                            <% }); %>
                         </div>
                </div>
            </section>
        </main>

        <footer class="site-footer text-light">
            <div class="container">
                <div class="site-footer-inner">
                    <div class="brand footer-brand">
                        <a href="#">
                            <img src="/logo.png" alt="Veritas Logo" sizes="" srcset="">
                            <!-- <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
                                <title>Comfy crypto</title>
                                <defs>
                                    <path d="M32 16H16v16H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h28a2 2 0 0 1 2 2v14z" id="logo-gradient-footer-a"/>
                                    <linearGradient x1="50%" y1="50%" y2="100%" id="logo-gradient-footer-b">
                                        <stop stop-color="#FFF" stop-opacity="0" offset="0%"/>
                                        <stop stop-color="#FFF" offset="100%"/>
                                    </linearGradient>
                                </defs>
                                <g fill="none" fill-rule="evenodd">
                                    <mask id="logo-gradient-footer-c" fill="#fff">
                                        <use xlink:href="#logo-gradient-footer-a"/>
                                    </mask>
                                    <use fill-opacity=".32" fill="#FFF" xlink:href="#logo-gradient-footer-a"/>
                                    <path fill="url(#logo-gradient-footer-b)" mask="url(#logo-gradient-footer-c)" d="M-16-16h32v32h-32z"/>
                                </g>
                            </svg> -->

                        </a>
                    </div>
                   
                   
                    <div class="footer-copyright" style="left: 517px;
    position: absolute;
    color: grey;
">&copy; 2023 COMFY-CRYPTO All rights reserved</div>
                </div>
            </div>
        </footer>
    </div>

    <script src="dist/js/main.min.js"></script>
</body>
</html>
